<nb-card>
  <nb-card-header>
    <div class="row m-0">
      <h5 class="heading-design">Leave Policies</h5>
    </div>
  </nb-card-header>

  <nb-card-body class="min-h-auto">
    <fieldset>
      <legend class="legend">Leave Policy:</legend>
      <div class="row align-items-center">
        <div class="col-md-2 form-group">
          <label for=""> Select Leave Type </label>
        </div>
        <div class="col-md-2 form-group">
          <auto-suggestion  [data]="leaveTypes" display="leave_type" placeholder="Select Leave Type"
            (onSelected)="selectLeaveType($event)" inputId="leaveType" name="leaveType"
            [preSelected]="{leave_type:leaveTypeName}"></auto-suggestion>
        </div>

        <div class="col-md-2">
          <div class="form-group">
            <label for=""> Period Start </label>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <uj-date-time-picker (onChanged)="leavePolicy.periodStart=($event)"
              [dateTimeValue]="leavePolicy.periodStart" [isTime]="false">
            </uj-date-time-picker>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <label for=""> Period End </label>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <uj-date-time-picker (onChanged)="leavePolicy.periodEnd=($event)" [dateTimeValue]="leavePolicy.periodEnd" 
              [isTime]="false">
            </uj-date-time-picker>
          </div>
        </div>
       
      </div>

      <div class="row align-items-center mt-1">
     

        <div class="col-md-2">
          <div class="form-group">
            <label for=""> Max Carry Forward </label>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <input type="number" placeholder="Enter Carry Forward Leave" [(ngModel)]="leavePolicy.maxCarryForward"
              class="form-control" min="0">
          </div>
        </div>

        <div class="col-md-2">
          <div class="form-group">
            <label for=""> Paid Leave Count </label>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <input type="number" placeholder="Enter Paid Leave" [(ngModel)]="leavePolicy.paidCount" class="form-control"
              min="0">
          </div>
        </div>

        <div class="col-md-2">
          <div class="form-group">
            <label for=""> Unpaid Leave Count </label>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <input type="number" placeholder="Enter Unpaid Leave" [(ngModel)]="leavePolicy.unpaidCount"
              class="form-control" min="0">
          </div>
        </div>
      </div>

      <div class="row align-items-center mt-1">
        <div class="col-md-2">
          <div class="form-group">
            <label for=""> Allowed Apply Count </label>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <input type="number" placeholder="Enter Allowed Apply Count" [(ngModel)]="leavePolicy.allowedApplyCount"
              class="form-control" min="0">
          </div>
        </div>

        <div class="col-md-2">
          <div class="form-group">
            <label for=""> Max Days/Apply </label>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <input type="number" placeholder="Max Days/Apply" [(ngModel)]="leavePolicy.maxDaysPerApply"
              class="form-control" min="0">
          </div>
        </div>

        <div class="col-md-2">
          <div class="form-group">
            <label for=""> Min. Gap Days </label>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <input type="number" placeholder="Enter Min. Gap Days" [(ngModel)]="leavePolicy.minGapDays"
              class="form-control" min="0">
          </div>
        </div>
      </div>

      <div class="row align-items-center mt-1">
       

        <div class="col-md-2">
          <div class="form-group">
            <label for=""> Min Employement to Apply </label>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <input type="number" placeholder="Min Employement to Apply" [(ngModel)]="leavePolicy.minEmployementToApply"
              class="form-control" min="0">
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <label for=""> Max Encashment </label>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <input type="number" placeholder="Max Encashment" [(ngModel)]="leavePolicy.maxEncashment"
              class="form-control" min="0">
          </div>
        </div>
      </div>
      </fieldset>

      <fieldset>
        <legend class="legend">Policy Setting:</legend>
        <div class="row align-items-center">
          <div class="col-md-2">
            <div class="form-group">
              <label for=""> With Effective From </label>
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <uj-date-time-picker (onChanged)="policySetting.wef=($event)" [dateTimeValue]="policySetting.wef"
                [isTime]="false" [isDateDisabled]="isWefDisabled">
              </uj-date-time-picker>
            </div>
          </div>
  
          <div class="col-md-2">
            <div class="form-group">
              <label for=""> Calculation Formula </label>
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <input type="text" placeholder="Enter Calculation Formula" [(ngModel)]="policySetting.calculationFormula"
                class="form-control" >
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <label for=""> Holiday SandWich </label>
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <select class="form-control" [(ngModel)]="policySetting.holidaySandwich">
                <option value="true">Yes</option>
                <option value="false">No</option>
              </select>
            </div>
          </div>
        </div>

        <div class="row align-items-center mt-1">
          <div class="col-md-2">
            <div class="form-group">
              <label for=""> Calendar Fixed </label>
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <select class="form-control" [(ngModel)]="policySetting.CalendarFixed">
                <option value="true">Yes</option>
                <option value="false">No</option>
              </select>
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <label for=""> Encashment Optional </label>
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <select class="form-control" [(ngModel)]="policySetting.encashmentOptional">
                <option value="true">Yes</option>
                <option value="false">No</option>
              </select>
            </div>
          </div>

          <div class="col-md-2 form-group">
            <label for=""> Encash Month </label>
          </div>
          <div class="col-md-2 form-group">
            <select name="encashmentMonth" id="#encashmentMonth" class="form-control"
              [(ngModel)]="policySetting.encashmentMonth">
              <option selected="Fixed" value="1">January</option>
              <option value="2">February</option>
              <option value="3">March</option>
              <option value="4">April</option>
              <option value="5">May</option>
              <option value="6">June</option>
              <option value="7">July</option>
              <option value="8">August</option>
              <option value="9">September</option>
              <option value="10">October</option>
              <option value="11">November</option>
              <option value="12">December</option>
            </select>
          </div>
         
        </div>

        <div class="row align-items-center mt-1">
          <div class="col-md-2">
            <div class="form-group">
              <label for=""> Encash Carry Forward  </label>
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <input type="number" placeholder="Max Encashment" [(ngModel)]="policySetting.encashCarryForward"
                class="form-control" min="0">
            </div>
          </div>
          <div class="col-md-6"></div>
          <div class="col-md-2">
            <button class="btn btn-danger" (click)="resetForm()">Reset</button>
             <button class="btn btn-primary" style="margin-left:20px" (click)="saveData()">{{btnText}}</button>
           </div>
        </div>
       
        
        </fieldset>
  </nb-card-body>


  <nb-card-body>
    <div class="row ml-1">
      <div class="col-md-1">
        <div class="form-group">
          <label for=""> Start Date </label>
        </div>
      </div>
      <div class="col-md-2">
        <div class="form-group">
          <uj-date-time-picker (onChanged)="startDate=($event)"
            [dateTimeValue]="startDate" [isTime]="false">
          </uj-date-time-picker>
        </div>
      </div>
      <div class="col-md-1">
        <div class="form-group">
          <label for=""> End Date</label>
        </div>
      </div>
      <div class="col-md-2">
        <div class="form-group">
          <uj-date-time-picker (onChanged)="endDate=($event)" [dateTimeValue]="endDate" 
            [isTime]="false">
          </uj-date-time-picker>
        </div>
      </div>
      <div class="col-md-2">
        <button class="btn btn-primary" (click)="getData()">OK</button>
      </div>
      </div>
    <div class="row ml-1">
      <div class="col-12 pl-0">
        <smart-table *ngIf="leavesPloicies.length!=0" [data]="table.data" [settings]="table.settings"
          id="leavesPloicies">
        </smart-table>
      </div>
    </div>
  </nb-card-body>
</nb-card>